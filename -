local jogadores = require("classes.jogadores")
local playingCards = require("classes.baralho")
-- local jogo = require("./classes/gameplayLoop.lua")

local eu = jogadores.newPcharacter()
local bot = jogadores.newNPcharacter("bot")
local mesa = jogadores.newNPcharacter("mesa")

--setup blackjack
bot:draw(2)
eu:draw(2)

local compra = true
local botWins = false
local playerWins = false

local noWinner = true
while noWinner do
	while compra == true do
		os.execute("clear")
		print("player turn, " .. eu.pontos_mao .. " pontos")
		print("bot has, " .. bot.pontos_mao .. " pontos")
		bot:showHand()
		eu:showHand()
		compra = eu.decisao()
		if eu.pontos_mao > 21 then
			noWinner = false
			break
		elseif compra == true then
			eu:draw()
		end
	end

	compra = true
	while compra == true and not botWins do
		-- os.execute("clear")
		print("bot turn, " .. bot.pontos_mao .. " pontos")
		eu:showHand()
		bot:showHand()
		compra = bot.decisao(bot.pontos_mao, eu.pontos_mao)
		if compra == true and bot.pontos_mao <= 21 then
			bot:draw()
		elseif eu.pontos_mao > 21 then
			playerWins = true
			compra = false
		end
		print("enter to continue")
		io.read()
		-- os.execute("sleep 1")
	end
	if not botWins and not playerWins then
		noWinner = (bot.pontos_mao > eu.pontos_mao)
	elseif playerWins then
		noWinner = false
		noWinner = eu.decisao()
	else
	end
end
